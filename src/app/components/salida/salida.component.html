<p-toast [style]="{marginTop: '50px'}"></p-toast>
<div class="container-fluid">
  <h5 style="margin-top: 10px;">Edita la información:</h5>
    
    <form class="form-group row" [formGroup]="formSalida">
      <div class="form-group col-md-3" style="margin-top: 10px;">
        <label for="destino">Destino</label>
        <input type="text" name="destino" id="destino" placeholder="Destino" class="form-control" [(ngModel)]="formDestino" formControlName="destino">
        <div class="alert alert-danger mt-2" [hidden]="destino.valid || destino.pristine">
          Introduzca un destino
        </div>
      </div>
      <div class="form-group col-md-3" style="margin-top: 10px;">
        <label for="fecha">Fecha</label>
        <input type="text" name="fecha" id="fecha" placeholder="AAAA-MM-DD" class="form-control" [(ngModel)]="formFecha" formControlName="fecha">
        <div class="alert alert-danger mt-2" [hidden]="fecha.valid || fecha.pristine">
          <span *ngIf="fecha.errors?.['required']">
            Introduzca hora de salida
          </span>
          <span *ngIf="fecha.errors?.['pattern']">
            El formato de la fecha no es correcto (AAAA-MM-DD)
          </span>
        </div>
      </div>
      <div class="form-group col-md-3" style="margin-top: 10px;">
          <label for="hora">Hora</label>
          <input type="text" name="hora" id="hora" placeholder="HH:MM:SS" class="form-control" [(ngModel)]="formHora" formControlName="hora">
          <div class="alert alert-danger mt-2" [hidden]="hora.valid || hora.pristine">
            <span *ngIf="hora.errors?.['required']">
              Introduzca hora de salida
            </span>
            <span *ngIf="hora.errors?.['pattern']">
              El formato de la hora no es correcto (HH:MM:SS)
            </span>
          </div>
        </div>
    <div class="form-group col-md-3" style="margin-top: 10px;">
      <label for="patron">Patrón asignado</label>
      <select class="form-select" [(ngModel)]="formPatron" formControlName="patron" id="patron">
        <option [ngValue]="formPatron" selected disabled>{{formPatron.nombre}} {{formPatron.apellidos}}</option>
        <option *ngFor="let p of personas" [ngValue]="p">
          {{p.nombre}} {{p.apellidos}}
          </option>
      </select>
    </div>
    <div class="form-group col-md-3" style="margin-top: 10px;">
      <label for="barco">Embarcación asignada</label>
      <select class="form-select" [(ngModel)]="formBarco" formControlName="barco" id="barco">
        <option [ngValue]="formBarco" selected disabled>{{formBarco.nombre}}</option>
        <option *ngFor="let b of barcos" [ngValue]="b">
          {{b.nombre}}
          </option>
      </select>
    </div>
        <div class="col col-md-3">
          <button type="submit" class="btn btn-success" style="margin-top: 30px;" [disabled]="formSalida.invalid" (click)="modificarSalida()">Aceptar cambios</button>
        </div>
        <div class="col col-md-3">
          <button class="btn btn-warning" style="margin-top: 30px;" (click)="descartar()">Descartar cambios</button>
        </div>
        <div class="col col-md-3">
          <button class="btn btn-light" style="margin-top: 30px;" (click)="volver()">Volver</button>
        </div>
    </form>
</div>